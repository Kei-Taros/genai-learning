# 生成 AI の仕組みについて知る

## 概要

生成 AI の仕組みを学ぶために簡単なアプリケーションを作成する。

## 作成したページ一覧

### 果物の色を答える ミニ生成 AI

果物を選択するとその果物の色を回答してくれるだけの AI である。

学習データとして与える座標(embedding) を 2 次元として、その距離を測定して、色を判定している。

初期値はランダムで設定しているため、正しい回答が返ってこないことがある。

その場合「学習する」ボタンを押すことで、果物の座標を正解の色の座標に近づけ、回答精度を向上させることができる。

<img width="673" height="902" alt="スクリーンショット 2025-12-19 024251" src="https://github.com/user-attachments/assets/a7858d14-e825-4443-85da-465e3cd20109" />

### 入力された文章をトークンにする ミニトークナイザ

入力した文章を辞書に登録された「文字のかたまり（トークン）」に分割するミニトークナイザである。

辞書登録欄に「,」または「、」区切りで単語を入力すると、その内容を辞書として使用する。未入力の場合は デフォルトの辞書が利用される。

分割は最長一致方式で行い、辞書の中で文字数が最も長く一致するものを優先して切り出す。どれにも一致しない場合は 1 文字ずつに分割する。

<img width="960" height="315" alt="スクリーンショット 2026-01-12 200428" src="https://github.com/user-attachments/assets/48dd0d2f-a14e-4a70-ab55-15061b0776d3" />

### ミニトークナイザ ver.BPE

入力された文章を、BPEという方式でトークンに分割するミニトークナイザである。

BPEとは Byte Pair Encoding（バイト・ペア・エンコーディング）の略で、文章の中に頻出する文字ペアを繰り返し結合していき、「短い文字列の集まり → 長めのトークン」に変換していく仕組みを指す。



学習コーパスに入力された文章をもとに、頻出する文字ペアを調べる。
その後、頻出ペアを結合して「より大きな文字のかたまり（トークン）」を生成し、文字を結合するためのルールとする。

mergesの回数を増やすと、より多くのペアが結合されるため、より長いトークンが生成されやすくなる。
ただし、頻出するペアがなくなれば途中で学習が停止する。
<img width="960" height="400" alt="スクリーンショット 2026-01-30 101651" src="https://github.com/user-attachments/assets/f710bde5-416c-4415-be28-4fc58602c762" />
